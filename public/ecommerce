<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoFinds - Premium Second-Hand Marketplace</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/design.css">
</head>
<body data-theme="light">

    <div id="homePage" class="page active">
        <header>
            <div class="header-logo-group"><h1>Ecofinds</h1></div>
            <div class="search-container"><input type="text" id="search-input" placeholder="Search for Mobiles, Laptops..."><div id="search-suggestions"></div></div>
            <div class="header-actions"><button class="theme-toggle header-icon-btn"><i class="bi bi-sun"></i></button><button class="header-icon-btn" onclick="navigateTo('cartPage')"><i class="bi bi-cart"></i><span id="cart-badge"></span></button><button class="header-icon-btn" onclick="navigateTo('accountPage')"><i class="bi bi-person-circle"></i></button></div>
        </header>

        <main>
            <div class="container-fluid section-padding">
                <div class="offer-card">
                    <h2 id="offer-product-name"></h2>
                    <p class="lead">Ends in: <span id="countdown-timer" class="countdown-timer"></span></p>
                    <button class="btn btn-light" onclick="navigateTo('productDetailPage', { productId: 'offer' })">View Deal</button>
                </div>

                <div class="fresh-finds-container mb-5">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h2 class="section-title text-start mb-0 flex-grow-1">Fresh Finds</h2>
                        <button id="scroll-right-btn" class="btn btn-outline-secondary btn-sm"><i class="bi bi-arrow-right"></i></button>
                    </div>
                    <div id="timeline-container"></div>
                </div>

                <div class="category-stalls-container">
                    <h2 class="section-title">Shop by Category</h2>
                    <div id="category-stalls"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="categoryListPage" class="page">
        <header><button class="btn" onclick="goBack()"><i class="bi bi-arrow-left fs-4"></i></button><h3 id="category-title" class="mb-0"></h3><div></div></header>
        <main><div class="container-fluid section-padding"><div id="category-product-grid"></div></div></main>
    </div>

    <div id="productDetailPage" class="page">
        <header><button class="btn" onclick="goBack()"><i class="bi bi-arrow-left fs-4"></i></button><h3 class="mb-0">Product Details</h3><div></div></header>
        <main>
            <div class="container-fluid section-padding">
                <div class="row">
                    <div class="col-lg-6 product-image-carousel"><img id="main-product-image" src="" class="img-fluid"></div>
                    <div class="col-lg-6">
                        <h1 id="product-detail-name-main" class="mb-2"></h1>
                        <h2 id="product-detail-price" class="price mb-4"></h2>
                        <div class="product-details-grid mb-4">
                            <div class="detail-item"><strong>Condition</strong><small id="product-condition"></small></div>
                            <div class="detail-item"><strong>Category</strong><small id="product-category"></small></div>
                            <div class="detail-item"><strong>Used For</strong><small id="product-used-period"></small></div>
                        </div>
                        <p id="product-description" class="mb-4"></p>
                        <div class="seller-info-card">
                            <h5>Seller Information</h5>
                            <p class="mb-1"><strong id="seller-name"></strong> from <span id="seller-location"></span></p>
                            <p class="mb-0 text-secondary"><i class="bi bi-star-fill text-warning"></i> <span id="seller-rating"></span></p>
                            <hr>
                            <p class="mb-1"><strong>Purchase Date:</strong> <span id="product-purchase-date"></span></p>
                            <p class="mb-0"><strong>Reason for Selling:</strong> <span id="product-selling-reason"></span></p>
                        </div>
                        <div id="action-buttons-container"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <div id="sellPage" class="page">
        <main>
            <div class="container section-padding">
                <h2 class="section-title">Sell Your Item</h2>
                <form id="sell-item-form" class="row g-3">
                    <div class="col-md-12"><label class="form-label">Item Name</label><input type="text" class="form-control" id="sell-name" required></div>
                    <div class="col-md-6"><label class="form-label">Category</label><select class="form-select" id="sell-category" required></select></div>
                    <div class="col-md-6"><label class="form-label">Condition</label><select class="form-select" id="sell-condition" required><option>Like New</option><option>Excellent</option><option>Good</option><option>Fair</option></select></div>
                    <div class="col-md-12"><label class="form-label">Price (â‚¹)</label><input type="number" class="form-control" id="sell-price" required></div>
                    <div class="col-md-12"><label class="form-label">Description</label><textarea class="form-control" id="sell-description" rows="3"></textarea></div>
                    <div class="col-12"><label class="form-label">Upload Image</label><input type="file" class="form-control d-none" id="sell-image" accept="image/*" required><label for="sell-image" id="sell-image-preview"></label></div>
                    <div class="col-12"><button type="submit" class="btn btn-primary w-100">List My Item</button></div>
                </form>
            </div>
        </main>
    </div>

    <div id="cartPage" class="page">
        <header><button class="btn" onclick="goBack()"><i class="bi bi-arrow-left fs-4"></i></button><h3 class="mb-0">Shopping Cart</h3><div></div></header>
        <main>
            <div class="container section-padding">
                <div id="cart-container">
                    </div>
        
                <div id="checkout-section" style="display:none; margin-top: 2rem;">
                    <h3 class="section-title text-start">Checkout</h3>
                    <form id="checkout-form">
                        <div class="mb-3">
                            <label for="name" class="form-label">Full Name</label>
                            <input type="text" id="name" class="form-control" required>
                        </div>
        
                        <div class="mb-3">
                            <label for="address" class="form-label">Address</label>
                            <textarea id="address" class="form-control" required></textarea>
                        </div>
        
                        <div class="mb-3">
                            <label for="payment" class="form-label">Payment Method</label>
                            <select id="payment" class="form-select" required>
                                <option value="cod">Cash on Delivery</option>
                                <option value="upi">UPI</option>
                                <option value="card">Credit/Debit Card</option>
                            </select>
                        </div>
        
                        <button type="submit" class="btn btn-primary w-100">Place Order</button>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <div id="accountPage" class="page">
        <main>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-4 dashboard-sidebar">
                        <div class="profile-summary text-center">
                            <div class="profile-pic-container mx-auto mb-3">
                                <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=400&auto=format&fit=crop" id="mainProfilePic" class="profile-pic rounded-circle">
                                <button class="btn btn-light btn-sm profile-pic-edit" data-bs-toggle="modal" data-bs-target="#profilePicModal"><i class="bi bi-pencil-fill"></i></button>
                            </div>
                            <h4 id="userName">Ananya Sharma</h4>
                            <p id="userLocation" class="text-secondary"><i class="bi bi-geo-alt"></i> Bengaluru, India</p>
                        </div>
                        <div class="list-group list-group-flush">
                            <a href="#profile-content" class="list-group-item list-group-item-action active" data-bs-toggle="pill">My Profile</a>
                            <a href="#orders-content" class="list-group-item list-group-item-action" data-bs-toggle="pill">My Orders</a>
                            <a href="#faq-content" class="list-group-item list-group-item-action" data-bs-toggle="pill">FAQ & Help</a>
                            <a href="#" class="list-group-item list-group-item-action text-danger" id="logoutButton">Logout</a>
                        </div>
                    </div>
                    <div class="col-lg-8 dashboard-content tab-content">
                        <div class="tab-pane fade show active" id="profile-content">
                            <h3>My Profile</h3>
                            <form id="profileEditForm">
                                <div class="mb-3"><label class="form-label">Name</label><input type="text" id="profileNameInput" class="form-control" value="Ananya Sharma"></div>
                                <div class="mb-3"><label class="form-label">City</label><input type="text" id="profileCityInput" class="form-control" value="Bengaluru"></div>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </form>
                            <hr class="my-5">
                            <h3>Recently Viewed</h3>
                            <div id="recently-viewed-container"></div>
                        </div>
                        <div class="tab-pane fade" id="orders-content"><div id="orders-content-container"></div></div>
                        <div class="tab-pane fade" id="faq-content"><h3>Frequently Asked Questions</h3><div class="accordion" id="faqAccordion"></div></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <nav class="bottom-nav">
        <div class="bottom-nav-inner">
            <a href="#" class="nav-item active" data-page="homePage"><i class="bi bi-house-door-fill"></i><span>Home</span></a>
            <a href="#" class="nav-item" data-page="categoryListPage" data-params='{"categoryName": "All Categories"}'><i class="bi bi-grid-fill"></i><span>Categories</span></a>
            <a href="#" class="nav-item" data-page="sellPage"><i class="bi bi-plus-circle-fill"></i><span>Sell</span></a>
            <a href="#" class="nav-item" data-page="cartPage"><i class="bi bi-cart-fill"></i><span>Cart</span></a>
            <a href="#" class="nav-item" data-page="accountPage"><i class="bi bi-person-fill"></i><span>Account</span></a>
        </div>
    </nav>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/logic.js"></script>
    
    <div id="toast-container"></div>
    <div class="modal fade" id="profilePicModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Change Profile Picture</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body text-center"><img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?q=80&w=400&auto=format&fit=crop" id="profilePicPreview" class="rounded-circle mb-3" style="width: 150px; height: 150px; object-fit: cover;"><input type="file" class="form-control" id="profilePicInput" accept="image/*"></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-primary" id="saveProfilePicButton">Save Changes</button></div></div></div></div>
    <div class="modal fade" id="trackOrderModal" tabindex="-1"><div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content" style="background-color: var(--background-alt);"><div class="modal-header border-0"><h5 class="modal-title" id="trackOrderModalLabel"></h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body" id="trackOrderModalBody"></div></div></div></div>

</body>
</html>
